{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\17034\\\\Documents\\\\GitHub\\\\CS321\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useExpensesContext } from '../hooks/useExpensesContext';\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport ExpenseDetails from '../components/ExpenseDetails';\nimport ExpenseForm from '../components/ExpenseForm';\nimport IncomeDetails from '../components/IncomeDetails';\nimport IncomeForm from '../components/IncomeForm';\nimport { useIncomeContext } from '../hooks/useIncomeContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const {\n    expenses,\n    dispatch\n  } = useExpensesContext();\n  const {\n    income,\n    dispatch: secondDispatch\n  } = useIncomeContext();\n  const {\n    user\n  } = useAuthContext();\n  useEffect(() => {\n    const fetchExpenses = async () => {\n      try {\n        const response = await fetch('/api/expenses', {\n          headers: {\n            'Authorization': `Bearer ${user.token}`\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Failed to fetch expenses');\n        }\n        const json = await response.json();\n        dispatch({\n          type: 'SET_EXPENSES',\n          payload: json\n        });\n      } catch (error) {\n        console.error('Error fetching expenses:', error);\n      }\n    };\n    const fetchIncome = async () => {\n      try {\n        const response = await fetch('/api/income', {\n          headers: {\n            'Authorization': `Bearer ${user.token}`\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Failed to fetch income');\n        }\n        const json = await response.json();\n        secondDispatch({\n          type: 'SET_INCOME',\n          payload: json\n        });\n      } catch (error) {\n        console.error('Error fetching income:', error);\n      }\n    };\n    if (user) {\n      fetchExpenses();\n      fetchIncome();\n    }\n  }, [dispatch, secondDispatch, user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"expenses\",\n      children: expenses && expenses.map(expense => /*#__PURE__*/_jsxDEV(ExpenseDetails, {\n        expense: expense\n      }, expense._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ExpenseForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"expenses\",\n      children: income && income.map(incomeItem => /*#__PURE__*/_jsxDEV(IncomeDetails, {\n        income: incomeItem\n      }, incomeItem._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(IncomeForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(Home, \"FvEq55jZT55yEwjrBcYKqeZXVQQ=\", false, function () {\n  return [useExpensesContext, useIncomeContext, useAuthContext];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useExpensesContext","useAuthContext","ExpenseDetails","ExpenseForm","IncomeDetails","IncomeForm","useIncomeContext","jsxDEV","_jsxDEV","Home","_s","expenses","dispatch","income","secondDispatch","user","fetchExpenses","response","fetch","headers","token","ok","Error","json","type","payload","error","console","fetchIncome","className","children","map","expense","_id","fileName","_jsxFileName","lineNumber","columnNumber","incomeItem","_c","$RefreshReg$"],"sources":["C:/Users/17034/Documents/GitHub/CS321/frontend/src/pages/Home.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useExpensesContext } from '../hooks/useExpensesContext';\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport ExpenseDetails from '../components/ExpenseDetails';\nimport ExpenseForm from '../components/ExpenseForm';\nimport IncomeDetails from '../components/IncomeDetails';\nimport IncomeForm from '../components/IncomeForm';\nimport { useIncomeContext } from '../hooks/useIncomeContext';\n\nconst Home = () => {\n    const { expenses, dispatch } = useExpensesContext();\n    const { income, dispatch: secondDispatch } = useIncomeContext();\n    const { user } = useAuthContext();\n\n    useEffect(() => {\n        const fetchExpenses = async () => {\n            try {\n                const response = await fetch('/api/expenses', {\n                    headers: {\n                        'Authorization': `Bearer ${user.token}`\n                    }\n                });\n                if (!response.ok) {\n                    throw new Error('Failed to fetch expenses');\n                }\n                const json = await response.json();\n                dispatch({ type: 'SET_EXPENSES', payload: json });\n            } catch (error) {\n                console.error('Error fetching expenses:', error);\n            }\n        };\n\n        const fetchIncome = async () => {\n            try {\n                const response = await fetch('/api/income', {\n                    headers: {\n                        'Authorization': `Bearer ${user.token}`\n                    }\n                });\n                if (!response.ok) {\n                    throw new Error('Failed to fetch income');\n                }\n                const json = await response.json();\n                secondDispatch({ type: 'SET_INCOME', payload: json });\n            } catch (error) {\n                console.error('Error fetching income:', error);\n            }\n        };\n\n        if (user) {\n            fetchExpenses();\n            fetchIncome();\n        }\n    }, [dispatch, secondDispatch, user]);\n\n    return (\n        <div className=\"home\">\n            <div className=\"expenses\">\n                {expenses && expenses.map((expense) => (\n                    <ExpenseDetails key={expense._id} expense={expense} />\n                ))}\n            </div>\n            <ExpenseForm />\n\n            <div className=\"expenses\">\n                {income && income.map((incomeItem) => (\n                    <IncomeDetails key={incomeItem._id} income={incomeItem} />\n                ))}\n            </div>\n            <IncomeForm />\n        </div>\n    );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}